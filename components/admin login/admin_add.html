<html>
    <head>
        <title>Firebase_form</title>
        <link rel="stylesheet" href="/index.css">
    </head>
    <body>
        <nav class="navbar">
            <ul class="nav-list">
                <li><h2>Ebus Management</h2></li>
              <li><a href="/components/admin login/admin_log.html">Admin</a></li>
              <li><a href="/components/driver login/dr_log.html">Driver</a></li>
              <li><a href="/index.html">User</a></li>
            </ul>
        </nav>
        <div class="box">
            <div class="form">
                <h2>Driver registration Form</h2>
                <form id="driverForm">
                    <div class="inputbox">
                        <input type="text" value="" id="driname" required>
                        <span>Driver name</span>
                    </div>
                    <div class="inputbox">
                        <input type="password" value="" id="password" required>
                        <span>Password</span>
                    </div>
                    <input type="submit" value="submit" class="sub" id="submit">
                </form>
            </div>
        </div>
        <script type="module">
        
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
            import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";
            
            // Your web app's Firebase configuration
            const firebaseConfig = {
                apiKey: "AIzaSyADFrTI9hs0563vJlVV2LopRGyPNupYSD8",
                authDomain: "project3-39d63.firebaseapp.com",
                projectId: "project3-39d63",
                storageBucket: "project3-39d63.appspot.com",
                messagingSenderId: "211637826568",
                appId: "1:211637826568:web:e9bbe3d33eeea3ad564dbd"
            };

            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            //get ref to datbase service
            const db=getDatabase(app);

            document.getElementById("submit").addEventListener('click', function(e){
                e.preventDefault();
                set(ref(db, 'driver/'+ document.getElementById("driname").value),
                {
                    username: document.getElementById("driname").value,
                    password:document.getElementById("password").value

                });
            alert("driver registration successful")
            document.getElementById("driverForm").reset();
            })             
        </script>
    </body>
</html>